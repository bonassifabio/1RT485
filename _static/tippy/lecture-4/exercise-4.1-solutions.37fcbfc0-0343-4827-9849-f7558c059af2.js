selector_to_html = {"a[href=\"https://en.wikipedia.org/wiki/Hall_effect_sensor\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/7/7e/Hall_sensor_tach.gif\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>A <b>Hall effect sensor</b> is any sensor incorporating one or more Hall elements, each of which produces a voltage proportional to one axial component of the <span>magnetic field vector <span class=\"texhtml \"><b>B</b></span></span> using the Hall effect.</p>", "a[href^=\"https://en.wikipedia.org/wiki/Hall_effect_sensor#\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/7/7e/Hall_sensor_tach.gif\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>A <b>Hall effect sensor</b> is any sensor incorporating one or more Hall elements, each of which produces a voltage proportional to one axial component of the <span>magnetic field vector <span class=\"texhtml \"><b>B</b></span></span> using the Hall effect.</p>", "a[href=\"https://en.wikipedia.org/wiki/Speedometer\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Toyota_Corolla_2016_speedometer.jpg/330px-Toyota_Corolla_2016_speedometer.jpg\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>A <b>speedometer</b> or <b>speed meter</b> is a gauge that measures and displays the instantaneous speed of a vehicle. Now universally fitted to motor vehicles, they started to be available as options in the early 20th century, and as standard equipment from about 1910 onwards. Other vehicles may use devices analogous to the speedometer with different means of sensing speed, eg. boats use a pit log, while aircraft use an airspeed indicator.</p>", "a[href^=\"https://en.wikipedia.org/wiki/Speedometer#\"]": "<img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Toyota_Corolla_2016_speedometer.jpg/330px-Toyota_Corolla_2016_speedometer.jpg\" alt=\"Wikipedia thumbnail\" style=\"float:left; margin-right:10px;\"><p>A <b>speedometer</b> or <b>speed meter</b> is a gauge that measures and displays the instantaneous speed of a vehicle. Now universally fitted to motor vehicles, they started to be available as options in the early 20th century, and as standard equipment from about 1910 onwards. Other vehicles may use devices analogous to the speedometer with different means of sensing speed, eg. boats use a pit log, while aircraft use an airspeed indicator.</p>", "a[href=\"#equation-eq-lec4-ex1-gc2\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-eq-lec4-ex1-gc2\">\n\\[\nG_{c2}(s) = \\frac{G_{o2}(s)}{1 + G_{o2}(s)} = \\frac{\\frac{90 K_2}{s + 100}}{1 + \\frac{90 K_2}{s + 100}} = \\frac{90 K_2}{s + (100 + 90 K_2)}\n\\]</div>", "a[href=\"#question-4\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Question 4<a class=\"headerlink\" href=\"#question-4\" title=\"Link to this heading\">#</a></h3><p>Recalling <a class=\"reference internal\" href=\"#equation-eq-lec4-ex1-gc2\">(10)</a>, the overall closed-loop transfer function is</p>", "a[href=\"#how-to-design-the-pi-controller\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">How to design the PI controller?<a class=\"headerlink\" href=\"#how-to-design-the-pi-controller\" title=\"Link to this heading\">#</a></h4><p>An easy design choice is to use the zero of the PI controller to cancel the pole of the system.</p>", "a[href=\"#id2\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Question 4<a class=\"headerlink\" href=\"#id2\" title=\"Link to this heading\">#</a></h3><p>To achieve zero steady-state error, it is enough to use a PI controller.</p>", "a[href=\"#solutions-of-exercise-4-1\"]": "<h1 class=\"tippy-header\" style=\"margin-top: 0;\">Solutions of Exercise 4.1<a class=\"headerlink\" href=\"#solutions-of-exercise-4-1\" title=\"Link to this heading\">#</a></h1><p>The cruise controller of an electric car works by adjusting the voltage applied to the electric motor to regulate the velocity, making sure it is as close as possible to the speed setpoint coming from the driver. The system has the following dynamics:</p><p><strong>Electric Dynamics</strong> (Voltage <span class=\"math notranslate nohighlight\">\\(\\to\\)</span> Current): <span class=\"math notranslate nohighlight\">\\(G_2(s) = \\frac{90}{s + 100}\\)</span></p>", "a[href=\"#question-2\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Question 2<a class=\"headerlink\" href=\"#question-2\" title=\"Link to this heading\">#</a></h3><p>The inner control loop is characterized by the open-loop transfer function <span class=\"math notranslate nohighlight\">\\(G_{o2}(s) = F_i(s) \\cdot G_2(s) = \\frac{90 K_2}{s + 100}\\)</span>, and by the closed-loop transfer function</p>", "a[href=\"#question-3\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Question 3<a class=\"headerlink\" href=\"#question-3\" title=\"Link to this heading\">#</a></h3><p>At this stage, we approximate <span class=\"math notranslate nohighlight\">\\(G_{c2}(s) \\approx 1\\)</span>. Therefore, the open-loop transfer function of the outer loop is</p>", "a[href=\"#from-bode-plot\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">From Bode plot<a class=\"headerlink\" href=\"#from-bode-plot\" title=\"Link to this heading\">#</a></h4><p>Let\u2019s recall that the bandwitdh <span class=\"math notranslate nohighlight\">\\(\\omega_B\\)</span> can roughly be approximated as the critical frequency <span class=\"math notranslate nohighlight\">\\(\\omega_c\\)</span> where <span class=\"math notranslate nohighlight\">\\(\\lvert G_{o1}(i \\omega) \\lvert_{\\text{dB}} = 0\\)</span> dB. Then, the magnitude of <span class=\"math notranslate nohighlight\">\\(G_1(s)\\)</span> at the target critical frequency <span class=\"math notranslate nohighlight\">\\(\\omega_c = 1\\)</span> rad/s is <span class=\"math notranslate nohighlight\">\\(\\lvert G_1(i 1) \\lvert_{\\text{dB}} \\simeq 15\\)</span> dB.\nTherefore, since <span class=\"math notranslate nohighlight\">\\(\\lvert G_{o1}(i \\omega) \\lvert_{\\text{dB}} = \\lvert G_{1}(i \\omega) \\lvert_{\\text{dB}} + \\lvert K_1 \\lvert_{\\text{dB}}\\)</span>, the bandwidth requirement is satisfied by <span class=\"math notranslate nohighlight\">\\(K_1 &gt; - 15\\)</span> dB. That is, <span class=\"math notranslate nohighlight\">\\(K_1 &gt; 10^{\\frac{-15}{20}} \\simeq 0.18\\)</span>.</p>", "a[href=\"#question-1\"]": "<h3 class=\"tippy-header\" style=\"margin-top: 0;\">Question 1<a class=\"headerlink\" href=\"#question-1\" title=\"Link to this heading\">#</a></h3><p>The cascade control scheme is implemented by closing the inner loop with the current measurement, and the outer loop with the speed measurement. The resulting block diagram is depicted below.</p>", "a[href=\"#fig-lec4-ex1-sol-car\"]": "<figure class=\"align-default\" id=\"fig-lec4-ex1-sol-car\">\n<a class=\"reference internal image-reference\" href=\"../_images/ex1.svg\"><img alt=\"../_images/ex1.svg\" src=\"../_images/ex1.svg\" style=\"height: 200px;\"/>\n</a>\n<figcaption>\n<p><span class=\"caption-number\">Fig. 23 </span><span class=\"caption-text\">Block diagram of the electric car</span><a class=\"headerlink\" href=\"#fig-lec4-ex1-sol-car\" title=\"Link to this image\">#</a></p>\n</figcaption>\n</figure>", "a[href=\"#wb\"]": "<aside class=\"footnote brackets\" id=\"wb\" role=\"doc-footnote\">\n<span class=\"label\"><span class=\"fn-bracket\">[</span><a href=\"#id1\" role=\"doc-backlink\">1</a><span class=\"fn-bracket\">]</span></span>\n<p>A well-designed closed-loop transfer function has a unitary (or very close to unitary) static gain. For example, in the solution to Question 2 we have seen that for <span class=\"math notranslate nohighlight\">\\(K_2 &gt; 110\\)</span> the static gain of the closed-loop transfer function is in the range <span class=\"math notranslate nohighlight\">\\((0.99, 1.0)\\)</span>. We can therefore opt for the definition <span class=\"math notranslate nohighlight\">\\(\\lvert G_{c2}(i \\omega_B)  \\lvert = \\frac{1}{\\sqrt{2}}\\)</span>, which is simpler because the right-hand side does not depend upon <span class=\"math notranslate nohighlight\">\\(K\\)</span>.</p>\n</aside>", "a[href=\"#fig-lec4-ex1-cascade\"]": "<figure class=\"align-default\" id=\"fig-lec4-ex1-cascade\">\n<a class=\"reference internal image-reference\" href=\"../_images/ex1-sol1.svg\"><img alt=\"../_images/ex1-sol1.svg\" src=\"../_images/ex1-sol1.svg\" style=\"height: 200px;\"/>\n</a>\n<figcaption>\n<p><span class=\"caption-number\">Fig. 24 </span><span class=\"caption-text\">Cascade control scheme.</span><a class=\"headerlink\" href=\"#fig-lec4-ex1-cascade\" title=\"Link to this image\">#</a></p>\n</figcaption>\n</figure>", "a[href=\"#analytical-solution\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">Analytical solution<a class=\"headerlink\" href=\"#analytical-solution\" title=\"Link to this heading\">#</a></h4><p>The bandwidth of <span class=\"math notranslate nohighlight\">\\(G_{c1}(s)\\)</span> is defined as the value of <span class=\"math notranslate nohighlight\">\\(\\omega\\)</span> such that</p>", "a[href=\"#ref-lec4-ex1-sol-q3-bode\"]": "<h4 class=\"tippy-header\" style=\"margin-top: 0;\">From Bode plot<a class=\"headerlink\" href=\"#from-bode-plot\" title=\"Link to this heading\">#</a></h4><p>Let\u2019s recall that the bandwitdh <span class=\"math notranslate nohighlight\">\\(\\omega_B\\)</span> can roughly be approximated as the critical frequency <span class=\"math notranslate nohighlight\">\\(\\omega_c\\)</span> where <span class=\"math notranslate nohighlight\">\\(\\lvert G_{o1}(i \\omega) \\lvert_{\\text{dB}} = 0\\)</span> dB. Then, the magnitude of <span class=\"math notranslate nohighlight\">\\(G_1(s)\\)</span> at the target critical frequency <span class=\"math notranslate nohighlight\">\\(\\omega_c = 1\\)</span> rad/s is <span class=\"math notranslate nohighlight\">\\(\\lvert G_1(i 1) \\lvert_{\\text{dB}} \\simeq 15\\)</span> dB.\nTherefore, since <span class=\"math notranslate nohighlight\">\\(\\lvert G_{o1}(i \\omega) \\lvert_{\\text{dB}} = \\lvert G_{1}(i \\omega) \\lvert_{\\text{dB}} + \\lvert K_1 \\lvert_{\\text{dB}}\\)</span>, the bandwidth requirement is satisfied by <span class=\"math notranslate nohighlight\">\\(K_1 &gt; - 15\\)</span> dB. That is, <span class=\"math notranslate nohighlight\">\\(K_1 &gt; 10^{\\frac{-15}{20}} \\simeq 0.18\\)</span>.</p>", "a[href=\"#equation-eq-lec4-ex1-gc\"]": "<div class=\"math notranslate nohighlight\" id=\"equation-eq-lec4-ex1-gc\">\n\\[\nG_c(s) = \\frac{F(s) G_{c2}(s) G_1(s)}{1 + F(s) G_{c2}(s) G_1(s)} \n\\]</div>", "a[href=\"#solution\"]": "<h2 class=\"tippy-header\" style=\"margin-top: 0;\">Solution<a class=\"headerlink\" href=\"#solution\" title=\"Link to this heading\">#</a></h2><h3>Question 1<a class=\"headerlink\" href=\"#question-1\" title=\"Link to this heading\">#</a></h3><p>The cascade control scheme is implemented by closing the inner loop with the current measurement, and the outer loop with the speed measurement. The resulting block diagram is depicted below.</p>"}
skip_classes = ["headerlink", "sd-stretched-link"]

window.onload = function () {
    for (const [select, tip_html] of Object.entries(selector_to_html)) {
        const links = document.querySelectorAll(`article.bd-article ${select}`);
        for (const link of links) {
            if (skip_classes.some(c => link.classList.contains(c))) {
                continue;
            }

            tippy(link, {
                content: tip_html,
                allowHTML: true,
                arrow: false,
                placement: 'auto-start', maxWidth: 500, interactive: true, boundary: document.body, appendTo: document.body,
                onShow(instance) {MathJax.typesetPromise([instance.popper]).then(() => {var isFirefox=typeof InstallTrigger!=='undefined';if(isFirefox&&window.MathJax&&MathJax.startup&&MathJax.startup.output&&MathJax.startup.output.name==="SVG"){const svgs=instance.popper.querySelectorAll('svg');svgs.forEach(svg=>{let bbox=svg.getBBox(),x=bbox.x,y=bbox.y,width=bbox.width,height=bbox.height;svg.setAttribute('width',width);svg.setAttribute('height',height);svg.setAttribute('viewBox',`${x} ${y} ${width} ${height}`);});let rescale=0.015;svgs.forEach(svg=>{let bbox=svg.getBBox(),width=bbox.width,height=bbox.height;svg.setAttribute('width',width*rescale);svg.setAttribute('height',height*rescale);});}});},
            });
        };
    };
    console.log("tippy tips loaded!");
};
